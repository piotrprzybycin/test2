{"filter":false,"title":"user_spec.rb","tooltip":"/spec/models/user_spec.rb","undoManager":{"mark":69,"position":69,"stack":[[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":5,"column":0}},"nl":"\n","lines":["require 'spec_helper'","","describe User do","  pending \"add some examples to (or delete) #{__FILE__}\"","end"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":21}},"text":"require 'spec_helper'"},{"action":"insertText","range":{"start":{"row":0,"column":21},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":10,"column":0}},"lines":["","describe User do","","  before { @user = User.new(name: \"Example User\", email: \"user@example.com\") }","","  subject { @user }","","  it { should respond_to(:name) }","  it { should respond_to(:email) }"]},{"action":"insertText","range":{"start":{"row":10,"column":0},"end":{"row":10,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":10,"column":0},"end":{"row":10,"column":3}},"text":"end"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":10,"column":0}},"nl":"\n","lines":["require 'spec_helper'","","describe User do","","  before { @user = User.new(name: \"Example User\", email: \"user@example.com\") }","","  subject { @user }","","  it { should respond_to(:name) }","  it { should respond_to(:email) }"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":21}},"text":"require 'spec_helper'"},{"action":"insertText","range":{"start":{"row":0,"column":21},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":19,"column":0}},"lines":["","describe User do","","  before do","    @user = User.new(name: \"Example User\", email: \"user@example.com\")","  end","","  subject { @user }","","  it { should respond_to(:name) }","  it { should respond_to(:email) }","","  it { should be_valid }","","  describe \"when name is not present\" do","    before { @user.name = \" \" }","    it { should_not be_valid }","  end"]},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":5},"end":{"row":19,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":2},"end":{"row":19,"column":43}},"text":"  describe \"when email is not present\" do"},{"action":"insertText","range":{"start":{"row":19,"column":43},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":20,"column":0},"end":{"row":22,"column":0}},"lines":["    before { @user.email = \" \" }","    it { should_not be_valid }"]},{"action":"insertText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":4},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":20,"column":0},"end":{"row":20,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":20,"column":0},"end":{"row":20,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":20,"column":0},"end":{"row":20,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":20,"column":4},"end":{"row":20,"column":5}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":20,"column":4},"end":{"row":20,"column":5}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":20,"column":0},"end":{"row":20,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":20,"column":0},"end":{"row":20,"column":1}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":20,"column":1},"end":{"row":20,"column":2}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":5},"end":{"row":24,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":2},"end":{"row":25,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":2},"end":{"row":25,"column":39}},"text":"  describe \"when name is too long\" do"},{"action":"insertText","range":{"start":{"row":25,"column":39},"end":{"row":26,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":26,"column":0},"end":{"row":28,"column":0}},"lines":["    before { @user.name = \"a\" * 51 }","    it { should_not be_valid }"]},{"action":"insertText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":2},"end":{"row":25,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":2},"end":{"row":25,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":2},"end":{"row":25,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":5},"end":{"row":29,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":29,"column":0},"end":{"row":29,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":2},"end":{"row":30,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":30,"column":0},"end":{"row":30,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":30,"column":2},"end":{"row":30,"column":46}},"text":"  describe \"when email format is invalid\" do"},{"action":"insertText","range":{"start":{"row":30,"column":46},"end":{"row":31,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":31,"column":0},"end":{"row":49,"column":0}},"lines":["    it \"should be invalid\" do","      addresses = %w[user@foo,com user_at_foo.org example.user@foo.","                     foo@bar_baz.com foo@bar+baz.com]","      addresses.each do |invalid_address|","        @user.email = invalid_address","        expect(@user).not_to be_valid","      end","    end","  end","","  describe \"when email format is valid\" do","    it \"should be valid\" do","      addresses = %w[user@foo.COM A_US-ER@f.b.org frst.lst@foo.jp a+b@baz.cn]","      addresses.each do |valid_address|","        @user.email = valid_address","        expect(@user).to be_valid","      end","    end"]},{"action":"insertText","range":{"start":{"row":49,"column":0},"end":{"row":49,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":30,"column":2},"end":{"row":30,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":30,"column":2},"end":{"row":30,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":30,"column":2},"end":{"row":30,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":49,"column":5},"end":{"row":50,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":50,"column":0},"end":{"row":50,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":50,"column":2},"end":{"row":51,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":51,"column":0},"end":{"row":51,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":51,"column":2},"end":{"row":51,"column":53}},"text":"  describe \"when email address is already taken\" do"},{"action":"insertText","range":{"start":{"row":51,"column":53},"end":{"row":52,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":52,"column":0},"end":{"row":58,"column":0}},"lines":["    before do","      user_with_same_email = @user.dup","      user_with_same_email.save","    end","","    it { should_not be_valid }"]},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":51,"column":2},"end":{"row":51,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":51,"column":2},"end":{"row":51,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":51,"column":2},"end":{"row":51,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":0},"end":{"row":54,"column":53}},"text":"      user_with_same_email.email = @user.email.upcase"},{"action":"insertText","range":{"start":{"row":54,"column":53},"end":{"row":55,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":34},"end":{"row":12,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":12,"column":2},"end":{"row":12,"column":44}},"text":"it { should respond_to(:password_digest) }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":68},"end":{"row":5,"column":69}},"text":","},{"action":"insertText","range":{"start":{"row":5,"column":69},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":72}},"text":"                     password: \"foobar\", password_confirmation: \"foobar\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":44},"end":{"row":14,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":2},"end":{"row":14,"column":37}},"text":"it { should respond_to(:password) }"},{"action":"insertText","range":{"start":{"row":14,"column":37},"end":{"row":15,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":15,"column":0},"end":{"row":15,"column":50}},"text":"  it { should respond_to(:password_confirmation) }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":63,"column":5},"end":{"row":64,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":64,"column":0},"end":{"row":64,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":64,"column":2},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":65,"column":2},"end":{"row":65,"column":44}},"text":"describe \"when password is not present\" do"},{"action":"insertText","range":{"start":{"row":65,"column":44},"end":{"row":66,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":66,"column":0},"end":{"row":76,"column":0}},"lines":["    before do","      @user = User.new(name: \"Example User\", email: \"user@example.com\",","                       password: \" \", password_confirmation: \" \")","    end","    it { should_not be_valid }","  end","","  describe \"when password doesn't match confirmation\" do","    before { @user.password_confirmation = \"mismatch\" }","    it { should_not be_valid }"]},{"action":"insertText","range":{"start":{"row":76,"column":0},"end":{"row":76,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":50},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":16,"column":0},"end":{"row":16,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":2},"end":{"row":16,"column":41}},"text":"it { should respond_to(:authenticate) }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":5},"end":{"row":78,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":78,"column":0},"end":{"row":78,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":78,"column":2},"end":{"row":79,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":79,"column":0},"end":{"row":79,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":50}},"text":"  describe \"with a password that's too short\" do"},{"action":"insertText","range":{"start":{"row":79,"column":50},"end":{"row":80,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":80,"column":0},"end":{"row":98,"column":0}},"lines":["    before { @user.password = @user.password_confirmation = \"a\" * 5 }","    it { should be_invalid }","  end","","  describe \"return value of authenticate method\" do","    before { @user.save }","    let(:found_user) { User.find_by(email: @user.email) }","","    describe \"with valid password\" do","      it { should eq found_user.authenticate(@user.password) }","    end","","    describe \"with invalid password\" do","      let(:user_for_invalid_password) { found_user.authenticate(\"invalid\") }","","      it { should_not eq user_for_invalid_password }","      specify { expect(user_for_invalid_password).to be_false }","    end"]},{"action":"insertText","range":{"start":{"row":98,"column":0},"end":{"row":98,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":3}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":3}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":79,"column":2},"end":{"row":79,"column":3}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":64,"column":5},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":65,"column":2},"end":{"row":66,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":66,"column":0},"end":{"row":66,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":66,"column":2},"end":{"row":66,"column":47}},"text":"  describe \"email address with mixed case\" do"},{"action":"insertText","range":{"start":{"row":66,"column":47},"end":{"row":67,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":67,"column":0},"end":{"row":74,"column":0}},"lines":["    let(:mixed_case_email) { \"Foo@ExAMPle.CoM\" }","","    it \"should be saved as all lower-case\" do","      @user.email = mixed_case_email","      @user.save","      expect(@user.reload.email).to eq mixed_case_email.downcase","    end"]},{"action":"insertText","range":{"start":{"row":74,"column":0},"end":{"row":74,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":66,"column":2},"end":{"row":66,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":52},"end":{"row":38,"column":53}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":53},"end":{"row":38,"column":67}},"text":"“foo@bar..com”"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":66},"end":{"row":38,"column":67}},"text":"”"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":53},"end":{"row":38,"column":54}},"text":"“"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":53},"end":{"row":38,"column":54}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":53},"end":{"row":38,"column":54}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":50},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":16,"column":0},"end":{"row":16,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":2},"end":{"row":16,"column":43}},"text":"it { should respond_to(:remember_token) }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":109,"column":5},"end":{"row":110,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":110,"column":0},"end":{"row":110,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":110,"column":2},"end":{"row":110,"column":30}},"text":"describe \"remember token\" do"},{"action":"insertText","range":{"start":{"row":110,"column":30},"end":{"row":111,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":111,"column":0},"end":{"row":113,"column":0}},"lines":["    before { @user.save }","    its(:remember_token) { should_not be_blank }"]},{"action":"insertText","range":{"start":{"row":113,"column":0},"end":{"row":113,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":109,"column":5},"end":{"row":110,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":110,"column":0},"end":{"row":110,"column":2}},"text":"  "}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":115,"column":3},"end":{"row":115,"column":3},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1407152946546,"hash":"9f7ba793e78807bfc281b4b50e4c15432e9b48f1"}